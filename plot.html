<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple markers</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>
    active_stops = [{"atcocode":"3290YYA00282","smscode":"32900282","name":"Wentworth Way","mode":"bus","bearing":"E","locality":"Heslington","indicator":"opp Concer","longitude":-1.05589,"latitude":53.94966,"distance":248,"x_lines":["4","44"]},{"atcocode":"3290YYA00283","smscode":"32900283","name":"Wentworth Way","mode":"bus","bearing":"W","locality":"Heslington","indicator":"o/s Concer","longitude":-1.05612,"latitude":53.94954,"distance":279,"x_lines":["44","4"]},{"atcocode":"3290YYA00281","smscode":"32900281","name":"Morrell Library","mode":"bus","bearing":"W","locality":"Heslington","indicator":"opp","longitude":-1.05242,"latitude":53.94874,"distance":501,"x_lines":["4","44"]},{"atcocode":"3290YYA00839","smscode":"32900839","name":"Morrell Library","mode":"bus","bearing":"E","locality":"Heslington","indicator":"o/s","longitude":-1.05226,"latitude":53.9488,"distance":503,"x_lines":["4","44"]},{"atcocode":"3290YYA01059","smscode":"32901059","name":"The Retreat","mode":"bus","bearing":"E","locality":"Hull Road","indicator":"o/s 27","longitude":-1.06093,"latitude":53.95201,"distance":686,"x_lines":["44","4"]},{"atcocode":"3290YYA00186","smscode":"32900186","name":"The Retreat","mode":"bus","bearing":"W","locality":"Hull Road","indicator":"","longitude":-1.06357,"latitude":53.95187,"distance":964,"x_lines":["44","4"]},{"atcocode":"3290YYA00280","smscode":"32900280","name":"Heslington Hall","mode":"bus","bearing":"SE","locality":"Heslington","indicator":"opp.","longitude":-1.04621,"latitude":53.94654,"distance":1284,"x_lines":["4","44"]},{"atcocode":"3290YYA00279","smscode":"32900279","name":"Heslington Hall","mode":"bus","bearing":"NW","locality":"Heslington","indicator":"o/s","longitude":-1.04639,"latitude":53.94622,"distance":1308,"x_lines":["4","44"]},{"atcocode":"3290YYA00185","smscode":"32900185","name":"Belle Vue Terrace","mode":"bus","bearing":"E","locality":"York","indicator":"opp","longitude":-1.06772,"latitude":53.95224,"distance":1431,"x_lines":["4","44"]},{"atcocode":"3290YYA00266","smscode":"32900266","name":"Heslington Church","mode":"bus","bearing":"SW","locality":"Heslington","indicator":"","longitude":-1.04474,"latitude":53.9463,"distance":1440,"x_lines":["4","44"]},{"atcocode":"3290YYA00736","smscode":"32900736","name":"Heslington Church","mode":"bus","bearing":"NE","locality":"Heslington","indicator":"","longitude":-1.04378,"latitude":53.94706,"distance":1450,"x_lines":["4","44"]},{"atcocode":"3290YYA00184","smscode":"32900184","name":"Belle Vue Terrace","mode":"bus","bearing":"W","locality":"York","indicator":"adj","longitude":-1.06816,"latitude":53.95218,"distance":1477,"x_lines":["4","44"]},{"atcocode":"3290YYA01011","smscode":"32901011","name":"Field Lane","mode":"bus","bearing":"E","locality":"Heslington","indicator":"adj Windmi","longitude":-1.04077,"latitude":53.9479,"distance":1689,"x_lines":["4"]},{"atcocode":"3290YYA01012","smscode":"32901012","name":"Field Lane","mode":"bus","bearing":"W","locality":"Heslington","indicator":"opp Windmi","longitude":-1.04071,"latitude":53.94782,"distance":1701,"x_lines":["4"]},{"atcocode":"3290YYA00188","smscode":"32900188","name":"Willis Street","mode":"bus","bearing":"E","locality":"York","indicator":"adj","longitude":-1.07118,"latitude":53.95235,"distance":1814,"x_lines":["4","44"]},{"atcocode":"3290YYA00737","smscode":"32900737","name":"Sussex Road","mode":"bus","bearing":"NE","locality":"Heslington","indicator":"adj","longitude":-1.03861,"latitude":53.94861,"distance":1882,"x_lines":["4"]},{"atcocode":"3290YYA00187","smscode":"32900187","name":"Willis Street","mode":"bus","bearing":"W","locality":"York","indicator":"opp","longitude":-1.0718,"latitude":53.95242,"distance":1885,"x_lines":["4","44"]},{"atcocode":"3290YYA00267","smscode":"32900267","name":"Sussex Road","mode":"bus","bearing":"SW","locality":"Heslington","indicator":"opp","longitude":-1.0384,"latitude":53.9485,"distance":1910,"x_lines":["4"]},{"atcocode":"3290YYA00199","smscode":"32900199","name":"Kent Street","mode":"bus","bearing":"W","locality":"York","indicator":"","longitude":-1.07449,"latitude":53.95287,"distance":2194,"x_lines":["4","44"]},{"atcocode":"3290YYA00268","smscode":"32900268","name":"Badger Wood Walk","mode":"bus","bearing":"NE","locality":"Heslington","indicator":"adj","longitude":-1.03524,"latitude":53.94939,"distance":2226,"x_lines":["4"]},{"atcocode":"3290YYA00738","smscode":"32900738","name":"Badger Wood Walk","mode":"bus","bearing":"SW","locality":"Heslington","indicator":"opp","longitude":-1.03513,"latitude":53.94925,"distance":2241,"x_lines":["4"]},{"atcocode":"3290YYA00174","smscode":"32900174","name":"Fawcett Street","mode":"bus","bearing":"S","locality":"York","indicator":"","longitude":-1.07522,"latitude":53.95336,"distance":2291,"x_lines":["44","4"]},{"atcocode":"3290YYA00173","smscode":"32900173","name":"Edinburgh Arms","mode":"bus","bearing":"N","locality":"York","indicator":"","longitude":-1.07642,"latitude":53.95304,"distance":2411,"x_lines":["44","4"]},{"atcocode":"3290YYA00217","smscode":"32900217","name":"Dixon Lane","mode":"bus","bearing":"S","locality":"York","indicator":"","longitude":-1.07676,"latitude":53.95543,"distance":2563,"x_lines":["44"]},{"atcocode":"3290YYA00216","smscode":"32900216","name":"Ryedale Building","mode":"bus","bearing":"N","locality":"York","indicator":"","longitude":-1.07709,"latitude":53.95594,"distance":2631,"x_lines":["44"]},{"atcocode":"3290YYA03630","smscode":"32903630","name":"Theatre Film & Television","mode":"bus","bearing":"E","locality":"Heslington","indicator":"o/s","longitude":-1.03218,"latitude":53.94597,"distance":2713,"x_lines":["44"]},{"atcocode":"3290YYA03631","smscode":"32903631","name":"Theatre Film & Television","mode":"bus","bearing":"W","locality":"Heslington","indicator":"opp","longitude":-1.03149,"latitude":53.94589,"distance":2790,"x_lines":["44"]},{"atcocode":"3290YYA03608","smscode":"32903608","name":"Heslington East Stop B","mode":"bus","bearing":"SW","locality":"Heslington","indicator":"","longitude":-1.02914,"latitude":53.94946,"distance":2899,"x_lines":["44","4"]},{"atcocode":"3290YYA03607","smscode":"32903607","name":"Heslington East Stop A","mode":"bus","bearing":"SW","locality":"Heslington","indicator":"","longitude":-1.02876,"latitude":53.9495,"distance":2941,"x_lines":["4"]},{"atcocode":"3290YYA00103","smscode":"32900103","name":"Piccadilly Stop B","mode":"bus","bearing":"NW","locality":"York","indicator":"","longitude":-1.0793,"latitude":53.95771,"distance":2990,"x_lines":["44"]},{"atcocode":"3290YYA01672","smscode":"32901672","name":"Piccadilly Stop D","mode":"bus","bearing":"SE","locality":"York","indicator":"","longitude":-1.07923,"latitude":53.95782,"distance":2992,"x_lines":["44"]},{"atcocode":"3290YYA03632","smscode":"32903632","name":"Ron Cooke Hub","mode":"bus","bearing":"NE","locality":"Heslington","indicator":"adj","longitude":-1.0284,"latitude":53.94726,"distance":3047,"x_lines":["44"]},{"atcocode":"3290YYA03633","smscode":"32903633","name":"Ron Cooke Hub","mode":"bus","bearing":"SW","locality":"Heslington","indicator":"opp","longitude":-1.028,"latitude":53.94732,"distance":3088,"x_lines":["44"]},{"atcocode":"3290YYA00168","smscode":"32900168","name":"Clifford Street Stop C","mode":"bus","bearing":"SE","locality":"York","indicator":"","longitude":-1.08144,"latitude":53.95637,"distance":3113,"x_lines":["4"]},{"atcocode":"3290YYA00167","smscode":"32900167","name":"Clifford Street Stop B","mode":"bus","bearing":"NW","locality":"York","indicator":"","longitude":-1.08184,"latitude":53.95689,"distance":3189,"x_lines":["4"]},{"atcocode":"3290YYA00100","smscode":"32900100","name":"Low Ousegate Stop A","mode":"bus","bearing":"W","locality":"York","indicator":"","longitude":-1.08275,"latitude":53.95754,"distance":3329,"x_lines":["4"]},{"atcocode":"3290YYA00101","smscode":"32900101","name":"Low Ousegate Stop B","mode":"bus","bearing":"W","locality":"York","indicator":"","longitude":-1.08306,"latitude":53.95748,"distance":3356,"x_lines":["44"]},{"atcocode":"3290YYA00218","smscode":"32900218","name":"Price's Lane","mode":"bus","bearing":"SE","locality":"York","indicator":"","longitude":-1.08546,"latitude":53.95342,"distance":3417,"x_lines":["44"]},{"atcocode":"3290YYA00215","smscode":"32900215","name":"Victoria Bar","mode":"bus","bearing":"NW","locality":"York","indicator":"","longitude":-1.08635,"latitude":53.95336,"distance":3513,"x_lines":["44"]},{"atcocode":"3290YYA00099","smscode":"32900099","name":"Micklegate Stop B","mode":"bus","bearing":"E","locality":"York","indicator":"","longitude":-1.0858,"latitude":53.95731,"distance":3630,"x_lines":["4","44"]},{"atcocode":"3290YYA03646","smscode":"32903646","name":"York Sport Village","mode":"bus","bearing":"N","locality":"Heslington","indicator":"opp","longitude":-1.02213,"latitude":53.95085,"distance":3667,"x_lines":["44"]},{"atcocode":"3290YYA03647","smscode":"32903647","name":"York Sport Village","mode":"bus","bearing":"S","locality":"Heslington","indicator":"o/s","longitude":-1.02189,"latitude":53.95079,"distance":3694,"x_lines":["44"]},{"atcocode":"3290YYA00922","smscode":"32900922","name":"Rougier Street Stop E","mode":"bus","bearing":"NW","locality":"York","indicator":"","longitude":-1.08771,"latitude":53.95862,"distance":3917,"x_lines":["4"]},{"atcocode":"3290YYA00147","smscode":"32900147","name":"Nunnery Lane Car Park","mode":"bus","bearing":"SE","locality":"York","indicator":"o/s","longitude":-1.08973,"latitude":53.95495,"distance":3934,"x_lines":["44"]},{"atcocode":"3290YYA00095","smscode":"32900095","name":"Rougier Street Stop F","mode":"bus","bearing":"NW","locality":"York","indicator":"","longitude":-1.08785,"latitude":53.95871,"distance":3938,"x_lines":["44"]},{"atcocode":"3290YYA00093","smscode":"32900093","name":"Rougier Street Stop A","mode":"bus","bearing":"SE","locality":"York","indicator":"","longitude":-1.08795,"latitude":53.95897,"distance":3967,"x_lines":["4","44"]},{"atcocode":"3290YYA00146","smscode":"32900146","name":"Nunnery Lane Car Park","mode":"bus","bearing":"NW","locality":"York","indicator":"opp","longitude":-1.09053,"latitude":53.95517,"distance":4030,"x_lines":["44"]},{"atcocode":"3290YYA00128","smscode":"32900128","name":"Station Road Stop B","mode":"bus","bearing":"SW","locality":"York","indicator":"","longitude":-1.08932,"latitude":53.95882,"distance":4097,"x_lines":["44"]},{"atcocode":"3290YYA00150","smscode":"32900150","name":"Blossom Street Stop D","mode":"bus","bearing":"SW","locality":"York","indicator":"","longitude":-1.0922,"latitude":53.95483,"distance":4200,"x_lines":["4"]},{"atcocode":"3290YYA00152","smscode":"32900152","name":"Blossom Street Stop B","mode":"bus","bearing":"NE","locality":"York","indicator":"","longitude":-1.09295,"latitude":53.95465,"distance":4276,"x_lines":["4"]},{"atcocode":"3290YYA00133","smscode":"32900133","name":"Rail Station Stop F","mode":"bus","bearing":"S","locality":"York","indicator":"","longitude":-1.09151,"latitude":53.95827,"distance":4290,"x_lines":["44"]},{"atcocode":"3290YYA00134","smscode":"32900134","name":"Rail Station Stop G","mode":"bus","bearing":"S","locality":"York","indicator":"","longitude":-1.09164,"latitude":53.95812,"distance":4295,"x_lines":["4"]},{"atcocode":"3290YYA00145","smscode":"32900145","name":"Rail Station Stop D","mode":"bus","bearing":"N","locality":"York","indicator":"","longitude":-1.09193,"latitude":53.95815,"distance":4327,"x_lines":["4","44"]},{"atcocode":"3290YYA00220","smscode":"32900220","name":"The Mount","mode":"bus","bearing":"NE","locality":"York","indicator":"adj","longitude":-1.09584,"latitude":53.95263,"distance":4550,"x_lines":["4"]},{"atcocode":"3290YYA00221","smscode":"32900221","name":"The Mount","mode":"bus","bearing":"SW","locality":"York","indicator":"adj","longitude":-1.09681,"latitude":53.95167,"distance":4648,"x_lines":["4"]},{"atcocode":"3290YYA00223","smscode":"32900223","name":"Mount Vale","mode":"bus","bearing":"SW","locality":"Knavesmire","indicator":"o/s Hotel","longitude":-1.09889,"latitude":53.94973,"distance":4882,"x_lines":["4"]},{"atcocode":"3290YYA00222","smscode":"32900222","name":"Mount Vale","mode":"bus","bearing":"NE","locality":"Knavesmire","indicator":"opp Hotel","longitude":-1.09904,"latitude":53.9499,"distance":4898,"x_lines":["4"]}]

function initialize() {
  var myLatlng = new google.maps.LatLng(53.95485, -1.06213);
  var mapOptions = {
    zoom: 14,
    center: myLatlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  var markers = []
  for (si in active_stops) {
    var s = active_stops[si]
    if (s["x_lines"][0] == "4" || s["x_lines"][1] == "4") {
      markers.push(new google.maps.Marker({
          position: new google.maps.LatLng(s["latitude"], s["longitude"]),
          map: map,
          title: s["atcocode"] + " " + s["name"] + " (" + s["locality"] + ")"
      }));
    }
  }
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>
